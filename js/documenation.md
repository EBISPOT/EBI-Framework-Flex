<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [ebiFrameworkManageGlobalSearch](#ebiframeworkmanageglobalsearch)
-   [ebiFrameworkSearchNullError](#ebiframeworksearchnullerror)
-   [ebiFrameworkHideGlobalNav](#ebiframeworkhideglobalnav)
-   [ebiFrameworkAssignImageByMetaTags](#ebiframeworkassignimagebymetatags)
-   [ebiFrameworkInsertEMBLdropdown](#ebiframeworkinsertembldropdown)
-   [ebiFrameworkUpdateFoot](#ebiframeworkupdatefoot)
-   [ebiFrameworkUpdateFooterMeta](#ebiframeworkupdatefootermeta)
-   [ebiFrameworkCookieBanner](#ebiframeworkcookiebanner)
-   [ebiFrameworkInvokeScripts](#ebiframeworkinvokescripts)
-   [ebiGaIndicateLoaded](#ebigaindicateloaded)
-   [setTimeout](#settimeout)
-   [last](#last)
-   [lastGaEventTime](#lastgaeventtime)
-   [analyticsTrackInteraction](#analyticstrackinteraction)
-   [Analytics tracking](#analytics-tracking)
-   [ebiGaInit](#ebigainit)
-   [Note](#note)
-   [addBlankTargetToExternalLinkEBI](#addblanktargettoexternallinkebi)
-   [addExternalToBlankWindowLinksEBI](#addexternaltoblankwindowlinksebi)
-   [activateEMBLdropdown](#activateembldropdown)
-   [Activate EMBL dropdown menu](#activate-embl-dropdown-menu)
-   [smoothScrollAnchorLinksEBI](#smoothscrollanchorlinksebi)
-   [invokeResponsiveMenuEBI](#invokeresponsivemenuebi)
-   [jQuery](#jquery)
-   [bodyData](#bodydata)
-   [Allow invokation of Foundation and foundationExtendEBI with data attributes](#allow-invokation-of-foundation-and-foundationextendebi-with-data-attributes)
-   [foundationInvoke](#foundationinvoke)
-   [foundationExtendEBI](#foundationextendebi)
-   [addExternal](#addexternal)

## ebiFrameworkManageGlobalSearch

[js/ebi-global-includes/script/3_ebiFrameworkForms.js:5-34](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/ebi-global-includes/script/3_ebiFrameworkForms.js#L5-L34 "Source code on GitHub")

Disable the global search if a page defines a local search.<br/>
Can also be disabled by adding class 'no-global-search' to the body element.

## ebiFrameworkSearchNullError

[js/ebi-global-includes/script/3_ebiFrameworkForms.js:40-84](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/ebi-global-includes/script/3_ebiFrameworkForms.js#L40-L84 "Source code on GitHub")

Add error alerts for 'no input' on search boxes.<br/>
Todo: this, perhaps, shoule be moved to a value-add script file

## ebiFrameworkHideGlobalNav

[js/ebi-global-includes/script/4_ebiFrameworkContent.js:4-22](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/ebi-global-includes/script/4_ebiFrameworkContent.js#L4-L22 "Source code on GitHub")

Remove global-nav/global-nav-expanded from header/footer if body.no-global-nav is set

## ebiFrameworkAssignImageByMetaTags

[js/ebi-global-includes/script/4_ebiFrameworkContent.js:27-41](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/ebi-global-includes/script/4_ebiFrameworkContent.js#L27-L41 "Source code on GitHub")

Assign global nav background images through meta tags

## ebiFrameworkInsertEMBLdropdown

[js/ebi-global-includes/script/4_ebiFrameworkContent.js:46-87](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/ebi-global-includes/script/4_ebiFrameworkContent.js#L46-L87 "Source code on GitHub")

Insert EMBL dropdown menu into `#masthead-black-bar`

## ebiFrameworkUpdateFoot

[js/ebi-global-includes/script/4_ebiFrameworkContent.js:92-119](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/ebi-global-includes/script/4_ebiFrameworkContent.js#L92-L119 "Source code on GitHub")

Insert EBI Footer into `#global-nav-expanded`

## ebiFrameworkUpdateFooterMeta

[js/ebi-global-includes/script/4_ebiFrameworkContent.js:124-138](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/ebi-global-includes/script/4_ebiFrameworkContent.js#L124-L138 "Source code on GitHub")

Insert footer meta info into `#ebi-footer-meta`

## ebiFrameworkCookieBanner

[js/ebi-global-includes/script/5_ebiFrameworkCookieBanner.js:4-72](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/ebi-global-includes/script/5_ebiFrameworkCookieBanner.js#L4-L72 "Source code on GitHub")

Insert and show the cookie banner.

## ebiFrameworkInvokeScripts

[js/ebi-global-includes/script/6_ebiFrameworkInvokeScripts.js:7-18](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/ebi-global-includes/script/6_ebiFrameworkInvokeScripts.js#L7-L18 "Source code on GitHub")

All scripts are automatically loaded, unless the page asked us not to.

**Examples**

```javascript
Configurable with a data attribute:
<body data-ebiFrameworkInvokeScripts="false">
```

## ebiGaIndicateLoaded

[js/foundationExtendEBI.js:12-34](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L12-L34 "Source code on GitHub")

We poll the document until we find GA has loaded, or we've tried a few times.

**Parameters**

-   `numberOfEbiGaChecks` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** counter
-   `numberOfEbiGaChecksLimit` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)**  (optional, default `2`)

## setTimeout

[js/foundationExtendEBI.js:19-26](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L19-L26 "Source code on GitHub")

If successful we append `.google-analytics-loaded` to the `body` tag.

## last

[js/foundationExtendEBI.js:42-46](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L42-L46 "Source code on GitHub")

Utility method to get the last in an array

**Examples**

```javascript
linkName = jQuery(actedOnItem).attr('src').split('/').last();
```

Returns **var** the last item in the array

## lastGaEventTime

[js/foundationExtendEBI.js:52-52](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L52-L52 "Source code on GitHub")

Track the last time an event was sent (don't double send)

**Parameters**

-   `lastGaEventTime` **[Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)** 

## analyticsTrackInteraction

[js/foundationExtendEBI.js:71-102](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L71-L102 "Source code on GitHub")

## Analytics tracking

This code tracks the user's clicks in various parts of the EBI site and logs them as GA events.<br/>
Links in non-generic regions can be tracked by adding '.track-with-analytics-events' to a parent div. Careful with the scoping.

Dev note:
add class verbose-analytics to your body for a readout to console on clicks, a la: <br/>
`jQuery('body').addClass('verbose-analytics');`

**Parameters**

-   `actedOnItem` **[element](https://developer.mozilla.org/en-US/docs/Web/API/Element)** 
-   `parentContainer` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Event group
-   `customEventName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Event action

**Examples**

```javascript
jQuery("body.google-analytics-loaded .analytics-content-footer").on('mousedown', 'a, button', function(e) {
  analyticsTrackInteraction(e.target,'Content footer');
});
```

## ebiGaInit

[js/foundationExtendEBI.js:111-194](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L111-L194 "Source code on GitHub")

If GA is found, we initialise the tracking of various default areas

## Note

This could be done more efficently with a general capture of links,
but we're running against the page's unload -- so speed over elegance.

## addBlankTargetToExternalLinkEBI

[js/foundationExtendEBI.js:200-207](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L200-L207 "Source code on GitHub")

Programatically open external links in new tabs

**Parameters**

-   `parent` **[element](https://developer.mozilla.org/en-US/docs/Web/API/Element)** scope

## addExternalToBlankWindowLinksEBI

[js/foundationExtendEBI.js:213-218](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L213-L218 "Source code on GitHub")

Programatically add '.external' to external links

**Parameters**

-   `parent` **[element](https://developer.mozilla.org/en-US/docs/Web/API/Element)** scope

## activateEMBLdropdown

[js/foundationExtendEBI.js:231-260](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L231-L260 "Source code on GitHub")

## Activate EMBL dropdown menu

Note: the menu content has already been added in `script.js` <br/>
If you pass options as 'reInit', it will destory any existing menu and add a new one.

**Parameters**

-   `options` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** reInit

## smoothScrollAnchorLinksEBI

[js/foundationExtendEBI.js:265-288](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L265-L288 "Source code on GitHub")

Smooth scroll anchor links for jQuery users

## invokeResponsiveMenuEBI

[js/foundationExtendEBI.js:293-401](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L293-L401 "Source code on GitHub")

Make the local nav menu responsive to the browser window width

## jQuery

[js/foundationExtendEBI.js:406-496](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L406-L496 "Source code on GitHub")

Default invokation of foundationExtendEBI

## bodyData

[js/foundationExtendEBI.js:468-468](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L468-L468 "Source code on GitHub")

## Allow invokation of Foundation and foundationExtendEBI with data attributes

This saves the need of placing the below on your page:<br/>
`<script type="text/JavaScript">$(document).foundation();</script>`<br/>
`<script type="text/JavaScript">$(document).foundationExtendEBI();</script>`<br/>
Background: <https://github.com/ebiwd/EBI-Framework/issues/77>

## foundationInvoke

[js/foundationExtendEBI.js:473-477](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L473-L477 "Source code on GitHub")

**Examples**

```javascript
<body data-foundationInvoke="document">
```

## foundationExtendEBI

[js/foundationExtendEBI.js:482-486](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L482-L486 "Source code on GitHub")

**Examples**

```javascript
<body data-foundationExtendEBI="document">
```

## addExternal

[js/foundationExtendEBI.js:491-494](https://github.com/ebiwd/EBI-Framework/blob/234c11550b545924875dd3f97cde917f59c14884/js/foundationExtendEBI.js#L491-L494 "Source code on GitHub")

**Examples**

```javascript
<body data-addExternal="true">
```
